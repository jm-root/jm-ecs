!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("./obj")),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r._entity=e,r.active=!0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"toJSON",value:function(){return{className:this.className}}},{key:"entity",get:function(){return this._entity}},{key:"className",get:function(){return t.className||t.name}},{key:"singleton",get:function(){return t.singleton}},{key:"name",get:function(){return this._name||this.className},set:function(e){t.nameReadOnly||(this._name=e)}}]),t}();i.className="component",i.singleton=!1,i.nameReadOnly=!1,n.default=i,t.exports=n.default},{"./obj":8}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=800;n.default={Err:{InvalidComponent:{err:r++,msg:"invalid component ${name}"},SingletonComponent:{err:r++,msg:"singleton component ${name} already exists"}}},t.exports=n.default},{}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(e("jm-err")),s=r(e("jm-logger")),l=r(e("./obj")),f=r(e("./component")),c=r(e("./em")),y=s.default.getLogger("jm-ecs"),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._components={},n.use(f.default),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),a(t,[{key:"use",value:function(e,t){if(!e)throw u.default.err(u.default.Err.FA_PARAMS);if(t||(t=e.className||e.name),!t)throw u.default.err(u.default.Err.FA_PARAMS);var n=this._components;return n[t]&&y.warn("use Compoent already exists for "+t+", replaced."),n[t]=e,this.emit("use",t,e),this}},{key:"uses",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,a=!1,u=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var f=s.value;Array.isArray(f)?this.uses.apply(this,o(f)):"object"===(void 0===f?"undefined":i(f))?this.use(f.class,f.name):this.use(f)}}catch(e){a=!0,u=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw u}}return this}},{key:"unuse",value:function(e){var t=this._components,n=t[e];return n&&this.emit("unuse",e,n),delete t[e],this}},{key:"component",value:function(e){return this._components[e]}},{key:"em",value:function(e){var t=new c.default(this,e);return this.emit("em",t),t}},{key:"toJSON",value:function(){return{components:this.components}}},{key:"components",get:function(){return this._components}}]),t}();v.EM=c.default,v.C=f.default,v.Obj=l.default,n.default=v,t.exports=n.default},{"./component":1,"./em":4,"./obj":8,"jm-err":9,"jm-logger":13}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("jm-utils"),u=r(e("./obj")),s=r(e("./entity")),l=r(e("./factory")),f=r(e("jm-logger")).default.getLogger("jm-ecs"),c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r._ecs=e,r._entityTypes={},r._pools={},r._entities={},r._entitiesByName={},r._entitiesByTag={},r.f=new l.default(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"e",value:function(e){return new s.default(this,e)}},{key:"addEntityType",value:function(e,t){return this._entityTypes[e]&&f.warn("add entityType already exists for "+e+", replaced."),this._entityTypes[e]=t,this}},{key:"addEntityTypes",value:function(e){for(var t in e)this.addEntityType(t,e[t]);return this}},{key:"entityType",value:function(e){return this._entityTypes[e]}},{key:"__createEntityFromPool",value:function(e,t,n){if(!this._entityTypes[e].poolable)return null;if(n)return null;if(t&&t.parent)return null;if(this._pools[e]){var r=this._pools[e].shift();if(r)return r.emit("reuse",t),this.addEntity(r),r}return null}},{key:"createEntity",value:function(e,t,n){var r=null;if(r=this.__createEntityFromPool(e,t,n))return r;var o=t;return t={},t=a.utils.cloneDeep(this._entityTypes[e]),o&&(t=a.utils.merge(t,a.utils.cloneDeep(o))),n&&(t.parent=n),(r=this.f.create(t))?(r.type=e,r.addTag(e),t.tags&&r.addTags(t.tags),this.addEntity(r),this.createEntityChildren(r,t),r):null}},{key:"createEntityChildren",value:function(e,t){for(var n in t.children){var r=t.children[n];if(r){var o=null;if("jm.Entity"===(r.className||"jm.Entity")){var i=r.type;o=this.createEntity(i,r,e)}e.children||(e.children=[]),e.children.push(o)}}}},{key:"addEntity",value:function(e,t){return e&&e.entityId?(t&&e.addTag(t),this._entities[e.entityId]=e,e.name&&(this._entitiesByName[e.name]=e),e.emit("add",this),this.emit("addEntity",e),this):this}},{key:"__removeEntityToPool",value:function(e){var t=e.type;if(!this._entityTypes[t].poolable)return!1;if(e.parent)return!1;this._pools[t]||(this._pools[t]=[]);var n=this._pools[t];return e.emit("unuse"),n.push(e),!0}},{key:"clearPool",value:function(e){var t=this._pools[e];if(t)return this._pools[e]=[],t.forEach(function(e){e.destroy()}),this}},{key:"clearPools",value:function(){for(var e in this._pools)this.clearPool(e);return this}},{key:"removeEntity",value:function(e){var t=void 0;return(t="object"===(void 0===e?"undefined":o(e))?e:this._entities[e])?(this.removeEntityChildren(t),t.emit("remove",this),this.emit("removeEntity",t),delete this._entities[t.entityId],t.name&&delete this._entitiesByName[t.name],this.__removeEntityToPool(t)?this:(t.destroy(),this)):this}},{key:"removeEntityChildren",value:function(e){var t=e.children;for(var n in t){var r=t[n];this.removeEntity(r.entityId)}return this}},{key:"removeEntities",value:function(e){for(var t in e)this.removeEntity(e[t]);return this}},{key:"removeEntitiesByType",value:function(e){var t=[];for(var n in this._entities){var r=this._entities[n];r.type===e&&t.push(r)}return this.removeEntities(t),this}},{key:"getEntities",value:function(e){var t=this._entities;if(!e)return t;var n={};if("string"==typeof e){var r=!1,o=!1,i=void 0;if(-1!==e.indexOf(",")?(o=!0,i=/\s*,\s*/):-1!==e.indexOf(" ")&&(r=!0,i=/\s+/),!r&&!o)return this._entitiesByTag[e];var a=e.split(i),u=void 0;for(var s in t){if(u=t[s],r){if(!u.hasTagAll(a))continue}else if(o&&!u.hasTagAny(a))continue;n[s]=u}}return n}},{key:"getEntity",value:function(e){var t=this.getEntities(e);for(var n in t)return t[n];return null}},{key:"update",value:function(e){this.emit("update",e)}},{key:"toJSON",value:function(){return{ecs:this.ecs,entities:this.entities}}},{key:"ecs",get:function(){return this._ecs}},{key:"entityTypes",get:function(){return this._entityTypes}},{key:"pools",get:function(){return this._pools}},{key:"entities",get:function(){return this._entities}},{key:"entitiesByName",get:function(){return this._entitiesByName}},{key:"entitiesByTag",get:function(){return this._entitiesByTag}}]),t}();n.default=c,t.exports=n.default},{"./entity":5,"./factory":6,"./obj":8,"jm-logger":13,"jm-utils":16}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t in e)return!1;return!0}function i(e,t){if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}Object.defineProperty(n,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("jm-utils"),l=r(e("jm-tag")),f=r(e("jm-err")),c=r(e("./obj")),y=r(e("./consts")).default.Err,v=1,d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return l.default.enableTag(r),r._em=e,r._ecs=e.ecs,r._components={},r._componentsByClass={},r._componentGUID=1,r.active=!0,r.entityId=v++,r.on("addTag",function(t){e._entitiesByTag[t]||(e._entitiesByTag[t]={}),e._entitiesByTag[t][r.entityId]=r}),r.on("removeTag",function(t){var n=e._entitiesByTag[t];n&&(delete n[r.entityId],o(n)&&delete e._entitiesByTag[t])}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),u(t,[{key:"destroy",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.removeAllComponents(),this.removeAllTags()}},{key:"use",value:function(e,t,n){var r=this.ecs;if("string"==typeof e&&(n||(n=e),!(e=r.component(e))))throw f.default.err(y.InvalidComponent,{name:e});if(!e)throw f.default.err(f.default.Err.FA_PARAMS);var o=new e(this,t),i=this._components,a=this._componentsByClass;n||(n=o.className);var u=o.className;if(n in i){if(e.singleton)throw f.default.err(y.SingletonComponent,{name:n});n=u+this._componentGUID++}a[u]||(a[u]={});var s=a[u];return i[n]=o,s[n]=o,this[n]=o,this.addTag(u),e.alias&&this.addTag(e.alias),o.emit("use",this),this.emit("use",o),this}},{key:"unuse",value:function(e){var t=this._components,n=this._componentsByClass,r=e,o=void 0;if("string"==typeof r&&(o=r,r=t[r]),!r)return this;o||(o=r.name);var i=r.className,a=n[i];return delete t[o],delete a[o],delete this[o],a.length||this.removeTag(i),r.emit("unuse",this),this.emit("unuse",r),r.destroy(),this}},{key:"removeChild",value:function(e){this.em.removeEntity(e.entityId),this.children=i(this.children,e),e.destroy()}},{key:"removeFromParent",value:function(){this.parent?this.parent.removeChild(this):this.em.removeEntity(this.entityId)}},{key:"removeComponents",value:function(e){var t=this.getComponents(e);for(var n in t)this.unuse(n);return delete this._componentsByClass[e],this.emit("removeComponents",e),this}},{key:"removeAllComponents",value:function(){var e=this._components;for(var t in e)this.unuse(t);return this.emit("removeAllComponents"),this}},{key:"getComponent",value:function(e){return this._components[e]}},{key:"getComponents",value:function(e){return this._componentsByClass[e]}},{key:"_clip",value:function(e,t){if(e)for(var n in t){var r=t[n],i=e[n];"object"!==(void 0===r?"undefined":a(r))?r===i&&delete t[n]:(i&&this._clip(i,r),o(r)&&delete t[n])}}},{key:"toJSON",value:function(){var e=this.type,t={type:e,tags:[],components:{}};t.tags=s.utils.cloneDeep(this.tags),t.tags=i(t.tags,e);var n=t.components,r=this.components;for(var o in r){var a=r[o];n[o]=a.toJSON(),t.tags=i(t.tags,o),t.tags=i(t.tags,a.className),o===n[o].className&&delete n[o].className}var u=this.em.entityType(e);if(u){for(var l in u.tags)t.tags=i(t.tags,u.tags[l]);this._clip(u,t)}t.tags&&!t.tags.length&&delete t.tags,r=this.children;for(var f in r){var c=r[f];t.children||(t.children=[]),t.children.push(c.toJSON())}return t}},{key:"em",get:function(){return this._em}},{key:"ecs",get:function(){return this._ecs}},{key:"components",get:function(){return this._components}},{key:"componentsByClass",get:function(){return this._componentsByClass}}]),t}();n.default=d,t.exports=n.default},{"./consts":2,"./obj":8,"jm-err":9,"jm-tag":14,"jm-utils":16}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("./obj")),i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.em=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.em.e();if(!e.components)return t;e.parent&&(t.parent=e.parent);var n=!0,r=!1,o=void 0;try{for(var i,a=Object.keys(e.components)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value,s=e.components[u],l=s.className||u;s.className&&delete s.className,t.use(l,s,u)}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return this.emit("create",t),t}}]),t}();n.default=i,t.exports=n.default},{"./obj":8}],7:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(e("./ecs"));void 0!==r&&r&&r.jm&&(r.jm.ECS=o.default,r.jm.ecs=function(e){return new o.default(e)}),n.default=o.default,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ecs":3}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("jm-event")),i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(e){var r=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;n[s]=e[s]}}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.EventEmitter),r(t,[{key:"destroy",value:function(){this.emit("destroy",this)}}]),t}();n.default=i,t.exports=n.default},{"jm-event":12}],9:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(e("./locale")),i={SUCCESS:{err:0,msg:"Success"},FAIL:{err:1,msg:"Fail"},FA_SYS:{err:2,msg:"System Error"},FA_NETWORK:{err:3,msg:"Network Error"},FA_PARAMS:{err:4,msg:"Parameter Error"},FA_BUSY:{err:5,msg:"Busy"},FA_TIMEOUT:{err:6,msg:"Time Out"},FA_ABORT:{err:7,msg:"Abort"},FA_NOTREADY:{err:8,msg:"Not Ready"},FA_NOTEXISTS:{err:9,msg:"Not Exists"},FA_EXISTS:{err:8,msg:"Already Exists"},OK:{err:200,msg:"OK"},FA_BADREQUEST:{err:400,msg:"Bad Request"},FA_NOAUTH:{err:401,msg:"Unauthorized"},FA_NOPERMISSION:{err:403,msg:"Forbidden"},FA_NOTFOUND:{err:404,msg:"Not Found"},FA_INTERNALERROR:{err:500,msg:"Internal Server Error"},FA_UNAVAILABLE:{err:503,msg:"Service Unavailable"}};i.t=o.default;var a=function(e,t){if(t)for(var n in t)e=e.split("${"+n+"}").join(t[n]);return e},u=function(e,t){"string"==typeof e&&(e={msg:e});var n=a(e.msg,t),r=new Error(n);return e.err&&(r.code=e.err),r},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";return!e[t]&&(e[t]=i,e.err=u,e.errMsg=a,!0)},l={Err:i,errMsg:a,err:u,enableErr:s,disableErr:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Err";e[t]&&(delete e[t],delete e.err,delete e.errMsg)}};if(void 0!==r&&r){r.jm||(r.jm={});var f=r.jm;if(!f.enableErr){s(f);for(var c in l)f[c]=l[c]}}n.default=l,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./locale":10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return t&&r[t]?r[t][e]:null};var r={zh_CN:function(e){return e&&e.__esModule?e:{default:e}}(e("./zh_CN")).default};t.exports=n.default},{"./zh_CN":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={Success:"成功",Fail:"失败","System Error":"系统错误","Network Error":"网络错误","Parameter Error":"参数错误",Busy:"忙","Time Out":"超时",Abort:"中止","Not Ready":"未准备好","Not Exists":"不存在","Already Exists":"已存在",OK:"OK","Bad Request":"错误请求",Unauthorized:"未验证",Forbidden:"无权限","Not Found":"未找到","Internal Server Error":"服务器内部错误","Service Unavailable":"无效服务"},t.exports=n.default},{}],12:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events={}}return r(e,[{key:"on",value:function(e,t,n){return this._events[e]||(this._events[e]=[]),n?this._events[e].unshift(t):this._events[e].push(t),this}},{key:"once",value:function(e,t,n){var r=this;return this.on(e,function n(o,i,a,u,s){r.off(e,n),t(o,i,a,u,s)},n)}},{key:"off",value:function(e,t){if(t){if(this._events&&this._events[e])for(var n=this._events[e],r=0;r<n.length;r++)if(t===n[r]){n.splice(r,1),n.length||delete this._events[e];break}}else void 0===e?this._events={}:this._events&&this._events[e]&&delete this._events[e];return this}},{key:"emit",value:function(e,t,n,r,o,i){for(var a=this.listeners(e),u=0;u<a.length;u++){if(!1===(0,a[u])(t,n,r,o,i))break}return this}},{key:"eventNames",value:function(){return Object.keys(this._events)}},{key:"listeners",value:function(e){var t=this._events[e];if(!t)return[];for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}}]),e}(),i=o.prototype,a={_events:{},on:i.on,once:i.once,off:i.off,emit:i.emit,eventNames:i.eventNames,listeners:i.listeners},u=function(e){if(void 0!==e.emit)return!1;for(var t in a)e[t]=a[t];return e._events={},!0},s=function(e){if(void 0!==e.emit)for(var t in a)delete e[t]},l={EventEmitter:o,enableEvent:u,disableEvent:s,moduleEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"event",t=this;return t.enableEvent=u,t.disableEvent=s,{name:e,unuse:function(){delete t.enableEvent,delete t.disableEvent}}}};if(void 0!==e&&e){e.jm||(e.jm={});var f=e.jm;if(!f.EventEmitter)for(var c in l)f[c]=l[c]}n.default=l,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return console.debug||(console.debug=console.log),console},o={logger:r(),getLogger:r,moduleLogger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"logger",t=this;return t.getLogger=r,t.logger=r(),{name:e,unuse:function(){delete t.logger,delete t.getLogger}}}};if(void 0!==e&&e){e.jm||(e.jm={});var i=e.jm;if(!i.logger)for(var a in o)i[a]=o[a]}n.default=o,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(e("jm-event")),a=i.default.EventEmitter,u=i.default.enableEvent,s=i.default.disableEvent,l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._tags=[],Object.defineProperty(e,"tags",{value:e._tags,writable:!1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),o(t,[{key:"destroy",value:function(){this.emit("destroy",this),this.removeAllTags()}},{key:"hasTag",value:function(e){return-1!=this._tags.indexOf(e)}},{key:"hasTagAny",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(this.hasTag(a))return!0}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!1}},{key:"hasTagAll",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!this.hasTag(a))return!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return!0}},{key:"addTag",value:function(e){var t=this._tags;return this.hasTag(e)?this:(t.push(e),this.emit("addTag",e),this)}},{key:"addTags",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.addTag(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return this}},{key:"removeTag",value:function(e){var t=this._tags,n=t.indexOf(e);return n>=0&&t.splice(n,1),this.emit("removeTag",e),this}},{key:"removeTags",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.removeTag(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return this}},{key:"removeAllTags",value:function(){var e=this._tags,t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.emit("removeTag",a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return this._tags=[],this.emit("removeAllTags"),this}}]),t}(),f=l.prototype,c={_tags:[],hasTag:f.hasTag,hasTagAny:f.hasTagAny,hasTagAll:f.hasTagAll,addTag:f.addTag,addTags:f.addTags,removeTag:f.removeTag,removeTags:f.removeTags,removeAllTags:f.removeAllTags},y=function(e){if(void 0!=e._tags)return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(c)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e[a]=c[a]}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e._tags=[],Object.defineProperty(e,"tags",{value:e._tags,writable:!1}),u(e),!0},v=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(c)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){delete e[o.value]}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}s(e)},d={TagObject:l,enableTag:y,disableTag:v,moduleTag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tag";return e.enableTag=y,e.disableTag=v,{name:t,unuse:function(){delete e.enableTag,delete e.disableTag}}}};if(void 0!==r&&r){r.jm||(r.jm={});var h=r.jm;if(!h.TagObject)for(var p in d)h[p]=d[p]}n.default=d,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"jm-event":15}],15:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events={}}return r(e,[{key:"on",value:function(e,t,n){return this._events[e]||(this._events[e]=[]),n?this._events[e].unshift(t):this._events[e].push(t),this}},{key:"once",value:function(e,t,n){var r=this;return this.on(e,function n(o,i,a,u,s){r.off(e,n),t(o,i,a,u,s)},n)}},{key:"off",value:function(e,t){if(t){if(this._events&&this._events[e])for(var n=this._events[e],r=0;r<n.length;r++)if(t===n[r]){n.splice(r,1),n.length||delete this._events[e];break}}else void 0===e?this._events={}:this._events&&this._events[e]&&delete this._events[e];return this}},{key:"emit",value:function(e,t,n,r,o,i){for(var a=this.listeners(e),u=0;u<a.length;u++){if(!1===(0,a[u])(t,n,r,o,i))break}return this}},{key:"eventNames",value:function(){return Object.keys(this._events)}},{key:"listeners",value:function(e){var t=this._events[e];if(!t)return[];for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}}]),e}(),i=o.prototype,a={_events:{},on:i.on,once:i.once,off:i.off,emit:i.emit,eventNames:i.eventNames,listeners:i.listeners},u=function(e){if(void 0!==e.emit)return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(a)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;e[u]=a[u]}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}return e._events={},!0},s=function(e){if(void 0!==e.emit){var t=!0,n=!1,r=void 0;try{for(var o,i=Object.keys(a)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){delete e[o.value]}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},l={EventEmitter:o,enableEvent:u,disableEvent:s,moduleEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"event";return e.enableEvent=u,e.disableEvent=s,{name:t,unuse:function(){delete e.enableEvent,delete e.disableEvent}}}};if(void 0!==e&&e){e.jm||(e.jm={});var f=e.jm;if(!f.EventEmitter)for(var c in l)f[c]=l[c]}n.default=l,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="[object Boolean]",i="[object Date]",a="[object Number]",u="[object RegExp]",s="[object String]",l={};l["[object Function]"]=!1,l["[object Arguments]"]=!0,l["[object Array]"]=!0,l[o]=!0,l[i]=!0,l[a]=!0,l["[object Object]"]=!0,l[u]=!0,l[s]=!0;var f={};f["[object Array]"]=Array,f[o]=Boolean,f[i]=Date,f["[object Object]"]=Object,f[a]=Number,f[u]=RegExp,f[s]=String;var c=/\w*$/,y={slice:function(e,t,n){t=t||0,n=n||e.length,t<0&&(t+=e.length),n<0&&(n+=e.length);for(var r=new Array(n-t),o=t;o<n;o++)r[o-t]=e[o];return r},formatJSON:function(e){return JSON.stringify(e,null,2)},getUriProtocol:function(e){return e?e.substring(0,e.indexOf(":")):null},getUriPath:function(e){var t=e.indexOf("//");return-1===t?"":-1===(t=e.indexOf("/",t+2))?"":(e=e.substr(t),-1===(t=e.indexOf("#"))&&(t=e.indexOf("?")),-1!==t&&(e=e.substr(0,t)),e)},cloneDeep:function e(t){if("object"!==(void 0===t?"undefined":r(t))||!t)return t;if(Array.isArray(t)){var n=[];return t.forEach(function(t){n.push(e(t))}),n}var y=toString.call(t);if(!l[y])return t;var v=f[y];switch(y){case o:case i:return new v(+t);case a:case s:return new v(t);case u:return v(t.source,c.exec(t))}var d={};return Object.keys(t).forEach(function(n){d[n]=e(t[n])}),d},merge:function e(t,n){if("object"!==(void 0===t?"undefined":r(t))||!t)return t;if(Array.isArray(t))return n.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t;return Object.keys(n).forEach(function(o){t[o]&&"object"===r(t[o])&&"object"===r(n[o])?e(t[o],n[o]):t[o]=n[o]}),t}},v={utils:y,moduleUtils:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utils",t=this;return t[e]=y,{name:e,unuse:function(){delete t[e]}}}};if(void 0!==e&&e){e.jm||(e.jm={});var d=e.jm;if(!d.utils)for(var h in v)d[h]=v[h]}n.default=v,t.exports=n.default}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[7]);